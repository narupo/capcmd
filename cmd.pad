{@
from "unix" import grep as ugrep
from "unix" import cat, usort
from "unix" import sortlines as usortlines
from "text" import join

def grep():
    fname = opts.args(1)
    if fname == nil:
        return
    end

    kw = opts.args(2)
    if kw == nil:
        return
    end

    cat(fname) # ugrep($r, kw) # join("\n", $r) # puts($r)
end

def sortlines():
    usortlines(opts.args(1)) # puts($r)
end

def ssort():
    cat(opts.args(1)) # $r.split("\n") # 
        usort($r, { r: opts.has("r") }) #
        join("\n", $r) # puts($r)
end
@}
